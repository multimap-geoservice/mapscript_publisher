{
    "IMODS":["interface"],
    "VARS":{
        "name": "osm-spb",
        "wms_title": "Open Street Map S.Peterburg",
        "imagecolor": [153, 179, 204], 
        "extent": [
            3276111.5,
            8318651.22,
            3424131.14,
            8454451.02
        ],
        "size": [800, 800],
        "wms_srs": {
            "RUN":{
                "interface.proj2str": [
                    "EPSG:32638",
                    "EPSG:4326",
                    "EPSG:3857",
                    "EPSG:2154",
                    "EPSG:310642901",
                    "EPSG:4171",
                    "EPSG:310024802",
                    "EPSG:310915814",
                    "EPSG:310486805",
                    "EPSG:310702807",
                    "EPSG:310700806",
                    "EPSG:310547809",
                    "EPSG:310706808",
                    "EPSG:310642810",
                    "EPSG:310642801",
                    "EPSG:310642812",
                    "EPSG:310032811",
                    "EPSG:310642813",
                    "EPSG:2986"
                ]
                
            }
        },
        "db_connection": "host=william dbname=RU-SPE user=gis password=gis port=5432",
        "epsg_id": "3857",
        "layer_dicts": [
            {
                "layer_temp": "buildings",
                "name": "buildings",
                "data": "select * from aaa",
                "wms_abstract": "buildings"
            } 
        ]
    },
    "TEMPS":{
        "buildings":{
                "15-20":{
                    "OBJ": "mapscript.layerObj",
                    "name": {"TEMP": "\"{{layer_var['name']}}\""},
                    "status": {"OBJ": "mapscript.MS_ON"}, 
                    "type": {"OBJ": "mapscript.MS_LAYER_POLYGON"}, 
                    "units": {"OBJ": "mapscript.MS_METERS"},
                    "tileitem": "location",
                    "connectiontype": {"OBJ": "mapscript.MS_POSTGIS"},
                    "connection": {"VAR": "db_connection"},
                    "data": {"TEMP": "\"{{layer_var['data']}}\""},
                    "setProcessing":[
                            "LABEL_NO_CLIP=ON", 
                            "CLOSE_CONNECTION=DEFER"
                        ], 
                    "metadata.set": [
                        [
                            "wms_abstract",
                            {"TEMP": "\"{{layer_var['wms_abstract']}}\""}
                        ]
                    ],
                    "SUB_OBJ":[
                        {
                            "OBJ": "mapscript.classObj",
                            "SUB_OBJ": [
                                {
                                    "OBJ": "mapscript.styleObj",
                                    "color": {
                                        "SUB_OBJ":{
                                            "OBJ": "mapscript.colorObj",
                                            "setHex": "#bbbbbb"
                                        }
                                    },
                                    "opacity": 50
                                },
                                {
                                    "OBJ": "mapscript.styleObj",
                                    "outlinecolor":{
                                        "SUB_OBJ":{
                                            "OBJ": "mapscript.colorObj",
                                            "setHex": "#333333"
                                        }
                                    },
                                    "width": [
                                         {"15-16": 0},
                                         {"17-20": 0.5}
                                    ]
                                }
                            ],
                            "addLabel": [
                                {
                                    "SUB_OBJ": {
                                        "OBJ": "mapscript.labelObj",
                                        "font": "sc",
                                        "partials": 0,
                                        "outlinecolor":{
                                            "SUB_OBJ":{
                                                "OBJ": "mapscript.colorObj",
                                                "OBJ_ARG": [255,255,255]
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    ]
                }
        },
        "map_temp":{
            "OBJ": "mapscript.mapObj",
            "name": {"VAR": "name"},
            "imagecolor.setRGB": [{"TEMP": "{{imagecolor}}"}],
            "setExtent": [{"VAR": "extent"}],
            "setProjection": "init=epsg:32638",
            "setSize": [{"VAR": "size"}],
            "units": {
                "OBJ": "mapscript.MS_DD"
            },
            "web.metadata.set": [
                ["ows_enable_request", "*"],
                ["labelcache_map_edge_buffer", "-10"],
                ["wms_srs", {"VAR": "wms_srs"}],
                ["wms_title", {"VAR": "wms_title"}],
                ["wms_enable_request", "*"]
            ],
            "SUB_OBJ": [
                {"TEMP": [
                        "{% for layer_var in layer_dicts %}",
                        "    {% include layer_var['layer_temp'] %},",
                        "{% endfor %}"
                    ]
                }
            ]
        }
    },
    "MAP":{
        "TEMP":"map_temp"
    }
}